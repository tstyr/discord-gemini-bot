# 🎯 使い方ガイド

## ✅ 現在の状態

- ✅ Bot起動成功
- ✅ Lavalink接続成功
- ✅ 音楽再生可能
- ⚠️ AI自動応答はチャンネル設定が必要

---

## 🚀 クイックスタート

### 1. AI自動応答を有効にする

AIに自動的に返信してほしいチャンネルで:

```
/setchannel enable:True
```

成功メッセージ:
```
✅ このチャンネルでAI自動応答を有効にしました
```

### 2. AIと会話する

設定したチャンネルで普通にメッセージを送信:

```
こんにちは
```

Botが自動的に返信します！

### 3. 音楽を再生する

```
/play query:YOASOBI アイドル
```

または自然言語で（自動応答チャンネル）:

```
YOASOBIのアイドル流して
```

---

## 💬 AI機能の使い方

### 方法1: 自動応答チャンネル（推奨）

#### ステップ1: チャンネルを設定

```
/setchannel enable:True
```

#### ステップ2: 普通に会話

```
あなた: こんにちは
Bot: こんにちは！何かお手伝いできることはありますか？

あなた: Pythonでリストを反転する方法は？
Bot: Pythonでリストを反転する方法はいくつかあります...

あなた: 面白い話して
Bot: では、面白い話をしましょう...
```

### 方法2: /chatコマンド

どのチャンネルでも使用可能:

```
/chat message:こんにちは
```

### AIモードの変更

```
/setmode mode:creative
→ より創造的な応答

/setmode mode:assistant
→ アシスタント的な応答（デフォルト）

/setmode mode:standard
→ 標準的な応答
```

---

## 🎵 音楽機能の使い方

### 方法1: スラッシュコマンド

```
/play query:曲名
```

例:
```
/play query:YOASOBI アイドル
/play query:米津玄師 Lemon
/play query:リラックス BGM
```

#### 再生の流れ

1. 曲の検索結果が表示される（最大5曲）
2. 番号ボタン（1-5）をクリックして選択
3. 「Discord VC」ボタンをクリック
4. プレイヤーUIが表示される
5. 再生開始！

### 方法2: 自然言語（自動応答チャンネル）

```
YOASOBIのアイドル流して
米津玄師の曲かけて
リラックスできる曲流して
作業用BGM再生して
```

### URL直接再生

```
/play query:https://www.youtube.com/watch?v=xxxxx
/play query:https://open.spotify.com/track/xxxxx
```

### 音楽コントロール

#### スラッシュコマンド

```
/skip - 次の曲へ
/stop - 停止して切断
/queue - キューを表示
/pause - 一時停止
/resume - 再開
```

#### 自然言語（自動応答チャンネル）

```
スキップ
次の曲
停止
止めて
一時停止
再開
キュー見せて
今の曲は？
音量50
```

---

## 🎮 プレイヤーUI

音楽再生中に表示されるボタン:

- ⏯️ **再生/一時停止** - 再生を制御
- ⏭️ **スキップ** - 次の曲へ
- ⏹️ **停止** - 再生を停止
- 🔁 **ループ** - ループモードを切り替え
- 🔊 **音量** - 音量を調整

---

## 📋 全コマンド一覧

### AI関連

| コマンド | 説明 |
|---------|------|
| `/chat message:質問` | AIに質問（どこでも使用可能） |
| `/setchannel enable:True` | 自動応答を有効化 |
| `/setchannel enable:False` | 自動応答を無効化 |
| `/setmode mode:assistant` | AIモードを変更 |
| `/status` | Botの状態を確認 |

### 音楽関連

| コマンド | 説明 |
|---------|------|
| `/play query:曲名` | 音楽を再生 |
| `/skip` | 次の曲へ |
| `/stop` | 停止して切断 |
| `/queue` | キューを表示 |
| `/pause` | 一時停止 |
| `/resume` | 再開 |
| `/recommend` | AIが音楽を推薦 |

---

## 🔍 よくある質問

### Q: AIが返信しない

**A**: チャンネルが自動応答に設定されているか確認してください。

```
/setchannel enable:True
```

その後、メッセージを送信してください。

### Q: 音楽が再生できない

**A**: `/status` コマンドでLavalinkの状態を確認してください。

```
/status
```

Lavalinkが「✅ 接続中」になっていればOKです。

### Q: プレイヤーUIが表示されない

**A**: 次のデプロイで修正されます。それまでは以下のコマンドで操作できます:

```
/skip - スキップ
/stop - 停止
/queue - キュー表示
```

### Q: 曲の選択画面がタイムアウトする

**A**: 60秒以内に番号ボタンをクリックしてください。タイムアウトした場合は、もう一度 `/play` を実行してください。

### Q: 「Unknown interaction」エラーが出る

**A**: ボタンをクリックするのが遅すぎた可能性があります。もう一度 `/play` を実行してください。

---

## 💡 便利な使い方

### 1. 作業用BGMを流す

```
/play query:lo-fi study beats
```

または自動応答チャンネルで:

```
作業用BGM流して
```

### 2. プレイリストを再生

```
/play query:https://www.youtube.com/playlist?list=xxxxx
```

### 3. AIに音楽を推薦してもらう

```
/recommend
```

会話の流れから適切な音楽を推薦します。

### 4. 複数の曲をキューに追加

```
/play query:曲1
/play query:曲2
/play query:曲3
```

自動的にキューに追加されます。

---

## 🎯 使用例

### 例1: 勉強中

```
あなた: 集中できる音楽流して
Bot: [曲を検索して再生]

あなた: Pythonの勉強してるんだけど、リスト内包表記って何？
Bot: リスト内包表記は、Pythonでリストを簡潔に作成する方法です...
```

### 例2: 休憩中

```
あなた: リラックスできる曲かけて
Bot: [曲を検索して再生]

あなた: 面白い話して
Bot: では、面白い話をしましょう...
```

### 例3: パーティー

```
あなた: 盛り上がる曲流して
Bot: [曲を検索して再生]

あなた: もっとテンション上がる曲
Bot: [次の曲を検索して再生]
```

---

## ✅ チェックリスト

初めて使う場合:

- [ ] `/setchannel enable:True` で自動応答を有効化
- [ ] メッセージを送信してAIが返信するか確認
- [ ] `/play query:テスト曲` で音楽が再生されるか確認
- [ ] プレイヤーUIのボタンが動作するか確認

---

## 📞 サポート

問題が発生した場合:

1. `/status` コマンドで状態を確認
2. Koyebログを確認
3. 以下のドキュメントを参照:
   - `QUICK_DIAGNOSTIC.md` - クイック診断
   - `MUSIC_AND_AI_FIX.md` - トラブルシューティング
   - `SETUP_COMPLETE_GUIDE.md` - セットアップガイド

---

## 🎉 楽しんでください！

これで準備完了です。AIと会話したり、音楽を楽しんだりしてください！
